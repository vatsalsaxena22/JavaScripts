<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript</title>

    <link rel="stylesheet" href="style.css" />

    <link
      rel="shortcut icon"
      href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/javascript/javascript-original.svg"
      type="image/x-icon"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css"
    />
  </head>
  <body>
    <header>
      <img
        src="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/javascript/javascript-original.svg"
        width="100"
      />

      <div>
        <h1>JavaScript</h1>
        <p>
          JavaScript (JS) is a high-performance, event-driven, and versatile
          programming language that powers modern web applications, real-time
          systems, and scalable backend architectures.
        </p>
      </div>
    </header>

    <div class="btn-div">
      <a href="https://vatsalsaxena22.github.io/JavaScripts/" class="btn"
        >Back to Home</a
      >
      <a href="./Exercises/Exercise 1/index.html" class="btn">console.log()</a>
      <a href="./Exercises/Exercise 2/index.html" class="btn"
        >Simple Calculator</a
      >
      <a href="./Exercises/Exercise 3/index.html" class="btn">Even Odd</a>
      <a href="./Exercises/Exercise 4/index.html" class="btn">Factorial</a>
    </div>

    <div class="content">
      <button class="content-btn" id="btn-basics">Basics</button>
      <button class="content-btn" id="btn-intermediate">Intermediate</button>
      <pre id="js-content"></pre>
    </div>

    <script>
      let btnBasics = document.getElementById("btn-basics");
      let btnIntermediate = document.getElementById("btn-intermediate");

      btnBasics.addEventListener("click", function () {
        window.location.href = window.location.pathname + "?section=basics";
      });

      btnIntermediate.addEventListener("click", function () {
        window.location.href =
          window.location.pathname + "?section=intermediate";
      });

      // Check URL parameters to decide which script to load
      const urlParams = new URLSearchParams(window.location.search);
      const section = urlParams.get("section") || "basics";

      let scriptPath;
      
      if(section === "intermediate"){
        scriptPath = "./Intermediate/script.js"
        btnIntermediate.classList.add("content-btn-active");
      } else if(section === "basics"){
        scriptPath = "./Basics/script.js"
        btnBasics.classList.add("content-btn-active");
      } else {
        scriptPath = "./Basics/script.js"
        btnBasics.classList.add("content-btn-active");
      }

      // Fetch and display the JS file content
      fetch(scriptPath)
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("js-content").textContent = data;
        })
        .catch((error) => console.error("Error loading JS file:", error));


      // Dynamically create and add the script tag based on the URL parameter
      const scriptElement = document.createElement("script");
      scriptElement.src = scriptPath;
      document.body.appendChild(scriptElement);
    </script>
  </body>
</html>
